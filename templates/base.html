{% load static %}
{% load compress %}
<!DOCTYPE html>
<html>
<head>
    <!-- Javascript can be found at the bottom of this page. -->
    {% compress css %}
        <link rel="stylesheet" href="{{ STATIC_URL }}bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="{{ STATIC_URL }}css/base.css" />
        {% block css %}{% endblock %}
    {% endcompress %}
    <title>OpenReview</title>
</head>
<body csrf="{{ csrf_token }}">
    <div class="container">
        {% block login %}
        {%  if user.is_anonymous %}
            <div class="row">
                <div class="col-md-12">
                    <div class="alert alert-info">
                        <p>Hi anonymous user! To participate please <a href="{%  url 'accounts-login' %}">login</a> or
                            <a href="{% url 'accounts-register' %}">signup</a> (we don't ask for any personal info).</p>
                    </div>
                </div>
            </div>
        {% endif %}
        {% endblock %}

        {% block content %}{% endblock %}

        <hr>
        <footer>
            <div class="row">
                <div class="col-md-2">
                    <p>
                        <b>Account</b><br/>
                        {%  if user.is_anonymous %}
                            <a href="{% url "accounts-login" %}">login</a><br/>
                            <a href="{% url "accounts-register" %}">register</a>
                        {% else %}
                            <a href="{%  url "accounts-logout" %}">logout</a><br/>
                            <a href="{%  url "accounts-settings" %}">settings </a>
                        {%  endif %}
                    </p>
                </div>
                <div class="col-md-7"></div>
                <div class="col-md-1">
                    <p>
                        <b>Help</b><br/>
                        #open-review<br/>
                        groups
                    </p>
                </div>
                <div class="col-md-1">
                    <p>
                        <b>Dev</b><br/>
                        source<br/>
                        issues<br/>
                        malinglist
                    </p>
                </div>
                <div class="col-md-1">
                    <p>
                        <b>About</b><br/>
                        team
                    </p>
                </div>
            </div>
        </footer>
    </div>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.0.min.js"></script>

    {% block meta %}{% endblock %}
    {% compress js %}
        <script type="text/javascript" src="{{ STATIC_URL }}mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}bootstrap/dist/js/bootstrap.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}raty/lib/jquery.raty.js"></script>
        {% block js %}{% endblock %}
    {% endcompress %}


    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [['$','$'],['\\(','\\)']],
            processEscapes: true
        }
      });
    </script>
    
    <script type="text/javascript">
        $(document).ready(function(){
            $(".starfield").each(function(){
            	var field = $(this).data("field");
            	var f = $(this).parents("form").find("input[name=" + field + "]");
            	var score;
            	if ($(this).data("score")) {
            		score = $(this).data("score");
            	} else {
            		score = f.val();
            	}
            	
            	var readOnly = false;
            	if ($(this).data("readonly")) {
            		readOnly = $(this).data("readonly");
            	}
            	
                $(this).raty({
                    click       : function(score){ f.val(score) },
                    hints       : ['1 star', '2 stars', '3 stars', '4 stars', '5 stars', '6 stars', '7 stars'],
                    number      : 7,
                    path        : '{{ STATIC_URL }}raty/lib/images/',
                    readOnly    : readOnly,
                    score       : score
                    // It should be possible to use scoreName: field instead of score and click, but for some unknown reason that does not seem to work
                });
            });
        });
        function addRating(field) {
        }
    </script>
  </body>
</html>

